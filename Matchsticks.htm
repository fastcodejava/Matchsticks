<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Matchsticks Puzzle Solver</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 50px;
    }
    label, select, input {
      font-size: 16px;
      margin: 10px 0;
      display: block;
    }
  </style>
</head>
<body>
  <h2>Matchsticks Puzzle Solver</h2>
  <label for="textbox">Enter a wrong matchsticks equation:</label>
  <input type="text" id="textbox" placeholder="Type something..." />

  <label for="dropdown">Matchsticks to move :</label>
  <select id="dropdown">
    <option value="1">1</option>
    <option value="2">2</option>
    <!--option value="option3">Option 3</option-->
  </select>

  <button onclick="solvePuzzle()">Submit</button>
  <button onclick="copyText()">Copy</button>

  <p id="output"></p>

  <script>
	let identity = [{
			"destination": null,
			"add": null,
			"move": null
		}];

	const SUPERSCRIPT1 = "<sup>1</sup>";
	const PLUS = "+";
	const MINUS = "-";
	const MULTIPLICATION = "x";
    const DIVISION = "/";
    let conf = {
        "0": [
            {
                "destination": 3,
                "add": -1,
                "move": 1
            },
            {
                "destination": 5,
                "add": -1,
                "move": 1
            },
            {
                "destination": 2,
                "add": -1,
                "move": 1
            },
            {
                "destination": 8,
                "add": 1,
                "move": 0
            },
            {
                "destination": 9,
                "add": 0,
                "move": 1
            },
            {
                "destination": 6,
                "add": 0,
                "move": 1
            },
            {
                "destination": 10,
                "add": 2,
                "move": 0
            },
            {
                "destination": 11,
                "add": -2,
                "move": 0
            }
        ],
        "1": [
            {
                "destination": 3,
                "add": 3,
                "move": 0
            },
            {
                "destination": 7,
                "add": 1,
                "move": 0
            },
            {
                "destination": 4,
                "add": 2,
                "move": 0
            },
            {
                "destination": 11,
                "add": 2,
                "move": 0
            }
        ],
        "2": [
            {
                "destination": 2,
                "add": 0,
                "move": 0
            },
            {
                "destination": 5,
                "add": 0,
                "move": 2
            },
            {
                "destination": 3,
                "add": 0,
                "move": 1
            },
            {
                "destination": 6,
                "add": 1,
                "move": 1
            },
            {
                "destination": 0,
                "add": 1,
                "move": 1
            },
            {
                "destination": 8,
                "add": 2,
                "move": 0
            },
            {
                "destination": 9,
                "add": 1,
                "move": 1
            },
            {
                "destination": 12,
                "add": 2,
                "move": 0
            }
        ],
        "3": [
            {
                "destination": 5,
                "add": 0,
                "move": 1
            },
            {
                "destination": 0,
                "add": 1,
                "move": 1
            },
            {
                "destination": 2,
                "add": 0,
                "move": 1
            },
            {
                "destination": 4,
                "add": -1,
                "move": 1
            },
            {
                "destination": 6,
                "add": 1,
                "move": 1
            },
            {
                "destination": 7,
                "add": -2,
                "move": 0
            },
            {
                "destination": 8,
                "add": 2,
                "move": 0
            },
            {
                "destination": 9,
                "add": 1,
                "move": 0
            },
            {
                "destination": 13,
                "add": 2,
                "move": 0
            }
        ],
        "4": [
            {
                "destination": 11,
                "add": 0,
                "move": 1
            },
            {
                "destination": 1,
                "add": -2,
                "move": 0
            },
            {
                "destination": 3,
                "add": 1,
                "move": 1
            },
            {
                "destination": 5,
                "add": 1,
                "move": 1
            },
            {
                "destination": 7,
                "add": -1,
                "move": 1
            },
            {
                "destination": 9,
                "add": 2,
                "move": 0
            },
            {
                "destination": 14,
                "add": 2,
                "move": 0
            }
        ],
        "5": [
            {
                "destination": 0,
                "add": 1,
                "move": 1
            },
            {
                "destination": 2,
                "add": 0,
                "move": 2
            },
            {
                "destination": 3,
                "add": 0,
                "move": 1
            },
            {
                "destination": 4,
                "add": -1,
                "move": 1
            },
            {
                "destination": 6,
                "add": 1,
                "move": 0
            },
            {
                "destination": 7,
                "add": -2,
                "move": 1
            },
            {
                "destination": 8,
                "add": 2,
                "move": 0
            },
            {
                "destination": 9,
                "add": 1,
                "move": 0
            },
            {
                "destination": 15,
                "add": 2,
                "move": 0
            }
        ],
        "6": [
            {
                "destination": 0,
                "add": 0,
                "move": 1
            },
            {
                "destination": 3,
                "add": -1,
                "move": 1
            },
            {
                "destination": 2,
                "add": -1,
                "move": 1
            },
            {
                "destination": 5,
                "add": -1,
                "move": 0
            },
            {
                "destination": 8,
                "add": 1,
                "move": 0
            },
            {
                "destination": 9,
                "add": 0,
                "move": 1
            },
            {
                "destination": 15,
                "add": 1,
                "move": 1
            },
            {
                "destination": 16,
                "add": 2,
                "move": 0
            }
        ],
        "7": [
            {
                "destination": 1,
                "add": -1,
                "move": 0
            },
            {
                "destination": 3,
                "add": 2,
                "move": 0
            },
            {
                "destination": 4,
                "add": 1,
                "move": 1
            },
            {
                "destination": 11,
                "add": 1,
                "move": 1
            },
            {
                "destination": 17,
                "add": 2,
                "move": 0
            }
        ],
        "8": [
            {
                "destination": 0,
                "add": -1,
                "move": 0
            },
            {
                "destination": 5,
                "add": -2,
                "move": 0
            },
            {
                "destination": 2,
                "add": -2,
                "move": 0
            },
            {
                "destination": 3,
                "add": -2,
                "move": 0
            },
            {
                "destination": 6,
                "add": -1,
                "move": 0
            },
            {
                "destination": 9,
                "add": -1,
                "move": 0
            },
            {
                "destination": 10,
                "add": 1,
                "move": 1
            },
            {
                "destination": 12,
                "add": 0,
                "move": 2
            },
            {
                "destination": 13,
                "add": 0,
                "move": 2
            },
            {
                "destination": 15,
                "add": 0,
                "move": 2
            },
            {
                "destination": 16,
                "add": 1,
                "move": 1
            },
            {
                "destination": 18,
                "add": 2,
                "move": 0
            },
            {
                "destination": 19,
                "add": 1,
                "move": 1
            }
        ],
        "9": [
            {
                "destination": 0,
                "add": 0,
                "move": 1
            },
            {
                "destination": 3,
                "add": -1,
                "move": 0
            },
            {
                "destination": 2,
                "add": -1,
                "move": 1
            },
            {
                "destination": 4,
                "add": -2,
                "move": 0
            },
            {
                "destination": 5,
                "add": -1,
                "move": 0
            },
            {
                "destination": 6,
                "add": 0,
                "move": 1
            },
            {
                "destination": 8,
                "add": 1,
                "move": 0
            },
            {
                "destination": 13,
                "add": 1,
                "move": 1
            },
            {
                "destination": 15,
                "add": 1,
                "move": 1
            },
            {
                "destination": 14,
                "add": 0,
                "move": 2
            },
            {
                "destination": 19,
                "add": 2,
                "move": 0
            }
        ],
        "10": [
            {
                "destination": 0,
                "add": -2,
                "move": 0
            },
            {
                "destination": 8,
                "add": -1,
                "move": 1
            },
            {
                "destination": 0,
                "add": -2,
                "move": 0
            }
        ],
        "11": [
            {
                "destination": 4,
                "add": 0,
                "move": 1
            },
            {
                "destination": 7,
                "add": -1,
                "move": 1
            },
            {
                "destination": 0,
                "add": 2,
                "move": 0
            },
          {
            "destination": 1,
            "add": -2,
            "move": 0
          }
        ],
        "12": [
            {
                "destination": 8,
                "add": 0,
                "move": 2
            },
            {
                "destination": 6,
                "add": -1,
                "move": 2
            },
            {
                "destination": 9,
                "add": -1,
                "move": 2
            }
        ],
        "13": [
            {
                "destination": 9,
                "add": -1,
                "move": 1
            },
            {
                "destination": 8,
                "add": 0,
                "move": 2
            },
            {
                "destination": 6,
                "add": -1,
                "move": 2
            }
        ],
        "14": [
            {
                "destination": 9,
                "add": 0,
                "move": 2
            },
            {
                "destination": 5,
                "add": -1,
                "move": 2
            }
        ],
        "15": [
            {
                "destination": 6,
                "add": -1,
                "move": 1
            },
            {
                "destination": 9,
                "add": -1,
                "move": 1
            }
        ],
        "16": [
            {
                "destination": 8,
                "add": -1,
                "move": 1
            }
        ],
        "17": [
            {
                "destination": 11,
                "add": -1,
                "move": 2
            },
            {
                "destination": 4,
                "add": -1,
                "move": 1
            }
        ],
        "18": [
            {
                "destination": 8,
                "add": -2,
                "move": 0
            }
        ],
        "19": [
            {
                "destination": 8,
                "add": -1,
                "move": 1
            },
          {
            "destination": 9,
            "add": -2,
            "move": 0
          }
        ],
      "20": [
        {
          "destination": 30,
          "add": 0,
          "move": 1
        },
        {
          "destination": 50,
          "add": 0,
          "move": 2
        }
      ],
      "21": [
        {
          "destination": 31,
          "add": 0,
          "move": 1
        },
        {
          "destination": 51,
          "add": 0,
          "move": 2
        }
      ],
      "22": [
        {
          "destination": 32,
          "add": 0,
          "move": 1
        },
        {
          "destination": 52,
          "add": 0,
          "move": 2
        }
      ],
      "23": [
        {
          "destination": 33,
          "add": 0,
          "move": 1
        },
        {
          "destination": 53,
          "add": 0,
          "move": 2
        }
      ],
      "24": [
        {
          "destination": 34,
          "add": 0,
          "move": 1
        },
        {
          "destination": 54,
          "add": 0,
          "move": 2
        }
      ],
      "25": [
        {
          "destination": 35,
          "add": 0,
          "move": 1
        },
        {
          "destination": 55,
          "add": 0,
          "move": 2
        }
      ],
      "26": [
        {
          "destination": 36,
          "add": 0,
          "move": 1
        },
        {
          "destination": 56,
          "add": 0,
          "move": 2
        }
      ],
      "27": [
        {
          "destination": 37,
          "add": 0,
          "move": 1
        },
        {
          "destination": 57,
          "add": 0,
          "move": 2
        }
      ],
      "28": [
        {
          "destination": 38,
          "add": 0,
          "move": 1
        },
        {
          "destination": 58,
          "add": 0,
          "move": 2
        }
      ],
      "29": [
        {
          "destination": 39,
          "add": 0,
          "move": 1
        },
        {
          "destination": 59,
          "add": 0,
          "move": 2
        }
      ],
      "30": [
        {
          "destination": 20,
          "add": 0,
          "move": 1
        },
        {
          "destination": 50,
          "add": 0,
          "move": 1
        },
        {
          "destination": 80,
          "add": 0,
          "move": 2
        }
      ],
      "31": [
        {
          "destination": 21,
          "add": 0,
          "move": 1
        },
        {
          "destination": 51,
          "add": 0,
          "move": 1
        },
        {
          "destination": 81,
          "add": 0,
          "move": 2
        }
      ],
      "32": [
        {
          "destination": 22,
          "add": 0,
          "move": 1
        },
        {
          "destination": 52,
          "add": 0,
          "move": 1
        },
        {
          "destination": 82,
          "add": 0,
          "move": 2
        }
      ],
      "33": [
        {
          "destination": 23,
          "add": 0,
          "move": 1
        },
        {
          "destination": 53,
          "add": 0,
          "move": 1
        },
        {
          "destination": 83,
          "add": 0,
          "move": 2
        }
      ],
      "34": [
        {
          "destination": 24,
          "add": 0,
          "move": 1
        },
        {
          "destination": 54,
          "add": 0,
          "move": 1
        },
        {
          "destination": 84,
          "add": 0,
          "move": 2
        }
      ],
      "35": [
        {
          "destination": 25,
          "add": 0,
          "move": 1
        },
        {
          "destination": 55,
          "add": 0,
          "move": 1
        },
        {
          "destination": 85,
          "add": 0,
          "move": 2
        }
      ],
      "36": [
        {
          "destination": 26,
          "add": 0,
          "move": 1
        },
        {
          "destination": 56,
          "add": 0,
          "move": 1
        },
        {
          "destination": 86,
          "add": 0,
          "move": 2
        }
      ],
      "37": [
        {
          "destination": 27,
          "add": 0,
          "move": 1
        },
        {
          "destination": 57,
          "add": 0,
          "move": 1
        },
        {
          "destination": 87,
          "add": 0,
          "move": 2
        }
      ],
      "38": [
        {
          "destination": 28,
          "add": 0,
          "move": 1
        },
        {
          "destination": 58,
          "add": 0,
          "move": 1
        },
        {
          "destination": 88,
          "add": 0,
          "move": 2
        }
      ],
      "39": [
        {
          "destination": 29,
          "add": 0,
          "move": 1
        },
        {
          "destination": 59,
          "add": 0,
          "move": 1
        },
        {
          "destination": 89,
          "add": 0,
          "move": 2
        }
      ],
      "40": [
        {
          "destination": 10,
          "add": -2,
          "move": 0
        },
        {
          "destination": 70,
          "add": -1,
          "move": 1
        }
      ],
      "41": [
        {
          "destination": 11,
          "add": -2,
          "move": 0
        },
        {
          "destination": 71,
          "add": -1,
          "move": 1
        }
      ],
      "42": [
        {
          "destination": 12,
          "add": -2,
          "move": 0
        },
        {
          "destination": 72,
          "add": -1,
          "move": 1
        }
      ],
      "43": [
        {
          "destination": 13,
          "add": -2,
          "move": 0
        },
        {
          "destination": 73,
          "add": -1,
          "move": 1
        }
      ],
      "44": [
        {
          "destination": 14,
          "add": -2,
          "move": 0
        },
        {
          "destination": 74,
          "add": -1,
          "move": 1
        }
      ],
      "45": [
        {
          "destination": 15,
          "add": -2,
          "move": 0
        },
        {
          "destination": 75,
          "add": -1,
          "move": 1
        }
      ],
      "46": [
        {
          "destination": 16,
          "add": -2,
          "move": 0
        },
        {
          "destination": 76,
          "add": -1,
          "move": 1
        }
      ],
      "47": [
        {
          "destination": 17,
          "add": -2,
          "move": 0
        },
        {
          "destination": 77,
          "add": -1,
          "move": 1
        }
      ],
      "48": [
        {
          "destination": 18,
          "add": -2,
          "move": 0
        },
        {
          "destination": 78,
          "add": -1,
          "move": 1
        }
      ],
      "49": [
        {
          "destination": 19,
          "add": -2,
          "move": 0
        },
        {
          "destination": 79,
          "add": -1,
          "move": 1
        }
      ],
      "50": [
        {
          "destination": 30,
          "add": 0,
          "move": 1
        },
        {
          "destination": 20,
          "add": 0,
          "move": 2
        }
      ],
      "51": [
        {
          "destination": 31,
          "add": 0,
          "move": 1
        },
        {
          "destination": 21,
          "add": 0,
          "move": 2
        }
      ],
      "52": [
        {
          "destination": 32,
          "add": 0,
          "move": 1
        },
        {
          "destination": 22,
          "add": 0,
          "move": 2
        }
      ],
      "53": [
        {
          "destination": 33,
          "add": 0,
          "move": 1
        },
        {
          "destination": 23,
          "add": 0,
          "move": 2
        }
      ],
      "54": [
        {
          "destination": 34,
          "add": 0,
          "move": 1
        },
        {
          "destination": 24,
          "add": 0,
          "move": 2
        }
      ],
      "55": [
        {
          "destination": 35,
          "add": 0,
          "move": 1
        },
        {
          "destination": 25,
          "add": 0,
          "move": 2
        }
      ],
      "56": [
        {
          "destination": 36,
          "add": 0,
          "move": 1
        },
        {
          "destination": 26,
          "add": 0,
          "move": 2
        }
      ],
      "57": [
        {
          "destination": 37,
          "add": 0,
          "move": 1
        },
        {
          "destination": 27,
          "add": 0,
          "move": 2
        }
      ],
      "58": [
        {
          "destination": 38,
          "add": 0,
          "move": 1
        },
        {
          "destination": 28,
          "add": 0,
          "move": 2
        }
      ],
      "59": [
        {
          "destination": 39,
          "add": 0,
          "move": 1
        },
        {
          "destination": 29,
          "add": 0,
          "move": 2
        }
      ],
      "60": [
      {
        "destination": 50,
        "add": -1,
        "move": 0
      },
      {
        "destination": 30,
        "add": -1,
        "move": 1
      },
      {
        "destination": 20,
        "add": -1,
        "move": 1
      },
      {
        "destination": 80,
        "add": 1,
        "move": 0
      },
      {
        "destination": 90,
        "add": 0,
        "move": 1
      }
    ],
            "61": [
      {
        "destination": 1,
        "add": 0,
        "move": 1
      },
      {
        "destination": 51,
        "add": -1,
        "move": 0
      },
      {
        "destination": 21,
        "add": -1,
        "move": 1
      },
      {
        "destination": 31,
        "add": -1,
        "move": 1
      },
      {
        "destination": 81,
        "add": 1,
        "move": 0
      },
      {
        "destination": 91,
        "add": 0,
        "move": 1
      }
    ],
            "62": [
      {
        "destination": 02,
        "add": 0,
        "move": 1
      },
      {
        "destination": 52,
        "add": -1,
        "move": 0
      },
      {
        "destination": 22,
        "add": -1,
        "move": 1
      },
      {
        "destination": 32,
        "add": -1,
        "move": 1
      },
      {
        "destination": 82,
        "add": 1,
        "move": 0
      },
      {
        "destination": 92,
        "add": 0,
        "move": 1
      }
    ],
            "63": [
      {
        "destination": 03,
        "add": 0,
        "move": 1
      },
      {
        "destination": 23,
        "add": -1,
        "move": 1
      },
      {
        "destination": 53,
        "add": -1,
        "move": 0
      },
      {
        "destination": 33,
        "add": -1,
        "move": 1
      },
      {
        "destination": 83,
        "add": 1,
        "move": 0
      },
      {
        "destination": 93,
        "add": 0,
        "move": 1
      }
    ],
            "64": [
      {
        "destination": 04,
        "add": 0,
        "move": 1
      },
      {
        "destination": 54,
        "add": -1,
        "move": 0
      },
      {
        "destination": 24,
        "add": -1,
        "move": 1
      },
      {
        "destination": 34,
        "add": -1,
        "move": 1
      },
      {
        "destination": 84,
        "add": 1,
        "move": 0
      },
      {
        "destination": 94,
        "add": 0,
        "move": 1
      }
    ],
            "65": [
      {
        "destination": 05,
        "add": 0,
        "move": 1
      },
      {
        "destination": 55,
        "add": -1,
        "move": 0
      },
      {
        "destination": 25,
        "add": -1,
        "move": 1
      },
      {
        "destination": 35,
        "add": -1,
        "move": 1
      },
      {
        "destination": 85,
        "add": 1,
        "move": 0
      },
      {
        "destination": 95,
        "add": 0,
        "move": 1
      }
    ],
            "66": [
      {
        "destination": 06,
        "add": 0,
        "move": 1
      },
      {
        "destination": 56,
        "add": -1,
        "move": 0
      },
      {
        "destination": 26,
        "add": -1,
        "move": 1
      },
      {
        "destination": 36,
        "add": -1,
        "move": 1
      },
      {
        "destination": 86,
        "add": 1,
        "move": 0
      },
      {
        "destination": 96,
        "add": 0,
        "move": 1
      }
    ],
            "67": [
      {
        "destination": 07,
        "add": 0,
        "move": 1
      },
      {
        "destination": 57,
        "add": -1,
        "move": 0
      },
      {
        "destination": 27,
        "add": -1,
        "move": 1
      },
      {
        "destination": 37,
        "add": -1,
        "move": 1
      },
      {
        "destination": 87,
        "add": 1,
        "move": 0
      },
      {
        "destination": 97,
        "add": 0,
        "move": 1
      }
    ],
            "68": [
      {
        "destination": 08,
        "add": 0,
        "move": 1
      },
      {
        "destination": 58,
        "add": -1,
        "move": 0
      },
      {
        "destination": 28,
        "add": -1,
        "move": 1
      },
      {
        "destination": 38,
        "add": -1,
        "move": 1
      },
      {
        "destination": 88,
        "add": 1,
        "move": 0
      },
      {
        "destination": 98,
        "add": 0,
        "move": 1
      }
    ],
    "69": [
      {
        "destination": 09,
        "add": 0,
        "move": 1
      },
      {
        "destination": 59,
        "add": -1,
        "move": 0
      },
      {
        "destination": 29,
        "add": -1,
        "move": 1
      },
      {
        "destination": 39,
        "add": -1,
        "move": 1
      },
      {
        "destination": 89,
        "add": 1,
        "move": 0
      },
      {
        "destination": 99,
        "add": 0,
        "move": 1
      }
    ],
            "70": [
        {
          "destination": 10,
          "add": -1,
          "move": 0
        },
        {
          "destination": 30,
          "add": 2,
          "move": 0
        }
      ],
      "71": [
        {
          "destination": 11,
          "add": -1,
          "move": 0
        },
        {
          "destination": 31,
          "add": 2,
          "move": 0
        }
      ],
      "72": [
        {
          "destination": 12,
          "add": -1,
          "move": 0
        },
        {
          "destination": 32,
          "add": 2,
          "move": 0
        }
      ],
      "73": [
        {
          "destination": 13,
          "add": -1,
          "move": 0
        },
        {
          "destination": 33,
          "add": 2,
          "move": 0
        }
      ],
      "74": [
        {
          "destination": 14,
          "add": -1,
          "move": 0
        },
        {
          "destination": 34,
          "add": 2,
          "move": 0
        }
      ],
      "75": [
        {
          "destination": 15,
          "add": -1,
          "move": 0
        },
        {
          "destination": 35,
          "add": 2,
          "move": 0
        }
      ],
      "76": [
        {
          "destination": 16,
          "add": -1,
          "move": 0
        },
        {
          "destination": 36,
          "add": 2,
          "move": 0
        }
      ],
      "77": [
        {
          "destination": 17,
          "add": -1,
          "move": 0
        },
        {
          "destination": 37,
          "add": 2,
          "move": 0
        }
      ],
      "78": [
        {
          "destination": 18,
          "add": -1,
          "move": 0
        },
        {
          "destination": 38,
          "add": 2,
          "move": 0
        }
      ],
      "79": [
        {
          "destination": 19,
          "add": -1,
          "move": 0
        },
        {
          "destination": 39,
          "add": 2,
          "move": 0
        }
      ],
      "80": [
        {
          "destination": 0,
          "add": 0,
          "move": 1
        },
        {
          "destination": 30,
          "add": -1,
          "move": 0
        },
        {
          "destination": 20,
          "add": -1,
          "move": 1
        },
        {
          "destination": 40,
          "add": -2,
          "move": 0
        },
        {
          "destination": 50,
          "add": -1,
          "move": 0
        },
        {
          "destination": 60,
          "add": 0,
          "move": 1
        },
        {
          "destination": 90,
          "add": -1,
          "move": 0
        }
      ],
      "81": [
        {
          "destination": 01,
          "add": -1,
          "move": 0
        },
        {
          "destination": 31,
          "add": -2,
          "move": 0
        },
        {
          "destination": 21,
          "add": -2,
          "move": 0
        },
        {
          "destination": 51,
          "add": -2,
          "move": 0
        },
        {
          "destination": 61,
          "add": -1,
          "move": 0
        },
        {
          "destination": 91,
          "add": -1,
          "move": 0
        }
      ],
      "82": [
        {
          "destination": 2,
          "add": 0,
          "move": 1
        },
        {
          "destination": 32,
          "add": -2,
          "move": 0
        },
        {
          "destination": 22,
          "add": -2,
          "move": 1
        },
        {
          "destination": 52,
          "add": -2,
          "move": 0
        },
        {
          "destination": 62,
          "add": -1,
          "move": 0
        },
        {
          "destination": 92,
          "add": -1,
          "move": 0
        }
      ],
      "83": [
        {
          "destination": 03,
          "add": -1,
          "move": 0
        },
        {
          "destination": 33,
          "add": -2,
          "move": 0
        },
        {
          "destination": 23,
          "add": -2,
          "move": 1
        },
        {
          "destination": 53,
          "add": -2,
          "move": 0
        },
        {
          "destination": 63,
          "add": -1,
          "move": 0
        },
        {
          "destination": 93,
          "add": -1,
          "move": 0
        }
      ],
      "84": [
        {
          "destination": 04,
          "add": -1,
          "move": 0
        },
        {
          "destination": 34,
          "add": -2,
          "move": 0
        },
        {
          "destination": 24,
          "add": -2,
          "move": 0
        },
        {
          "destination": 54,
          "add": -2,
          "move": 0
        },
        {
          "destination": 64,
          "add": -1,
          "move": 0
        },
        {
          "destination": 94,
          "add": -1,
          "move": 0
        }
      ],
      "85": [
        {
          "destination": 05,
          "add": -1,
          "move": 0
        },
        {
          "destination": 35,
          "add": -2,
          "move": 0
        },
        {
          "destination": 25,
          "add": -2,
          "move": 0
        },
        {
          "destination": 55,
          "add": -2,
          "move": 0
        },
        {
          "destination": 65,
          "add": -1,
          "move": 0
        },
        {
          "destination": 95,
          "add": -1,
          "move": 0
        }
      ],
      "86": [
        {
          "destination": 06,
          "add": -1,
          "move": 0
        },
        {
          "destination": 36,
          "add": -2,
          "move": 0
        },
        {
          "destination": 26,
          "add": -2,
          "move": 0
        },
        {
          "destination": 56,
          "add": -2,
          "move": 0
        },
        {
          "destination": 66,
          "add": -1,
          "move": 0
        },
        {
          "destination": 96,
          "add": -1,
          "move": 0
        }
      ],
      "87": [
        {
          "destination": 07,
          "add": -1,
          "move": 0
        },
        {
          "destination": 37,
          "add": -2,
          "move": 0
        },
        {
          "destination": 27,
          "add": -2,
          "move": 0
        },
        {
          "destination": 57,
          "add": -2,
          "move": 0
        },
        {
          "destination": 67,
          "add": -1,
          "move": 0
        },
        {
          "destination": 97,
          "add": -1,
          "move": 0
        }
      ],
      "88": [
        {
          "destination": 08,
          "add": -1,
          "move": 0
        },
        {
          "destination": 38,
          "add": -2,
          "move": 0
        },
        {
          "destination": 28,
          "add": -2,
          "move": 0
        },
        {
          "destination": 58,
          "add": -2,
          "move": 0
        },
        {
          "destination": 68,
          "add": -1,
          "move": 0
        },
        {
          "destination": 98,
          "add": -1,
          "move": 0
        }
      ],
      "89": [
        {
          "destination": 09,
          "add": -1,
          "move": 0
        },
        {
          "destination": 39,
          "add": -2,
          "move": 0
        },
        {
          "destination": 29,
          "add": -2,
          "move": 0
        },
        {
          "destination": 59,
          "add": -2,
          "move": 0
        },
        {
          "destination": 69,
          "add": -1,
          "move": 0
        },
        {
          "destination": 99,
          "add": -1,
          "move": 0
        }
      ],
      "90": [
        {
          "destination": 00,
          "add": 0,
          "move": 1
        },
        {
          "destination": 30,
          "add": -1,
          "move": 0
        },
        {
          "destination": 20,
          "add": -1,
          "move": 1
        },
        {
          "destination": 40,
          "add": -2,
          "move": 0
        },
        {
          "destination": 50,
          "add": -1,
          "move": 0
        },
        {
          "destination": 60,
          "add": 0,
          "move": 1
        },
        {
          "destination": 80,
          "add": 1,
          "move": 0
        }
      ],
      "91": [
        {
          "destination": 01,
          "add": 0,
          "move": 1
        },
        {
          "destination": 31,
          "add": -1,
          "move": 0
        },
        {
          "destination": 21,
          "add": -1,
          "move": 1
        },
        {
          "destination": 41,
          "add": -2,
          "move": 0
        },
        {
          "destination": 51,
          "add": -1,
          "move": 0
        },
        {
          "destination": 61,
          "add": 0,
          "move": 1
        },
        {
          "destination": 81,
          "add": 1,
          "move": 0
        }
      ],
      "92": [
        {
          "destination": 02,
          "add": 0,
          "move": 1
        },
        {
          "destination": 32,
          "add": -1,
          "move": 0
        },
        {
          "destination": 22,
          "add": -1,
          "move": 1
        },
        {
          "destination": 42,
          "add": -2,
          "move": 0
        },
        {
          "destination": 52,
          "add": -1,
          "move": 0
        },
        {
          "destination": 62,
          "add": 0,
          "move": 1
        },
        {
          "destination": 82,
          "add": 1,
          "move": 0
        }
      ],
      "93": [
        {
          "destination": 03,
          "add": 0,
          "move": 1
        },
        {
          "destination": 33,
          "add": -1,
          "move": 0
        },
        {
          "destination": 23,
          "add": -1,
          "move": 1
        },
        {
          "destination": 43,
          "add": -2,
          "move": 0
        },
        {
          "destination": 53,
          "add": -1,
          "move": 0
        },
        {
          "destination": 63,
          "add": 0,
          "move": 1
        },
        {
          "destination": 83,
          "add": 1,
          "move": 0
        }
      ],
      "94": [
        {
          "destination": 04,
          "add": 0,
          "move": 1
        },
        {
          "destination": 34,
          "add": -1,
          "move": 0
        },
        {
          "destination": 24,
          "add": -1,
          "move": 1
        },
        {
          "destination": 44,
          "add": -2,
          "move": 0
        },
        {
          "destination": 54,
          "add": -1,
          "move": 0
        },
        {
          "destination": 64,
          "add": 0,
          "move": 1
        },
        {
          "destination": 84,
          "add": 1,
          "move": 0
        }
      ],
      "95": [
        {
          "destination": 05,
          "add": 0,
          "move": 1
        },
        {
          "destination": 35,
          "add": -1,
          "move": 0
        },
        {
          "destination": 25,
          "add": -1,
          "move": 1
        },
        {
          "destination": 45,
          "add": -2,
          "move": 0
        },
        {
          "destination": 55,
          "add": -1,
          "move": 0
        },
        {
          "destination": 65,
          "add": 0,
          "move": 1
        },
        {
          "destination": 85,
          "add": 1,
          "move": 0
        }
      ],
      "96": [
        {
          "destination": 06,
          "add": 0,
          "move": 1
        },
        {
          "destination": 36,
          "add": -1,
          "move": 0
        },
        {
          "destination": 26,
          "add": -1,
          "move": 1
        },
        {
          "destination": 46,
          "add": -2,
          "move": 0
        },
        {
          "destination": 56,
          "add": -1,
          "move": 0
        },
        {
          "destination": 66,
          "add": 0,
          "move": 1
        },
        {
          "destination": 86,
          "add": 1,
          "move": 0
        }
      ],
      "97": [
        {
          "destination": 07,
          "add": 0,
          "move": 1
        },
        {
          "destination": 37,
          "add": -1,
          "move": 0
        },
        {
          "destination": 27,
          "add": -1,
          "move": 1
        },
        {
          "destination": 47,
          "add": -2,
          "move": 0
        },
        {
          "destination": 57,
          "add": -1,
          "move": 0
        },
        {
          "destination": 67,
          "add": 0,
          "move": 1
        },
        {
          "destination": 87,
          "add": 1,
          "move": 0
        }
      ],
      "98": [
        {
          "destination": 08,
          "add": 0,
          "move": 1
        },
        {
          "destination": 38,
          "add": -1,
          "move": 0
        },
        {
          "destination": 28,
          "add": -1,
          "move": 1
        },
        {
          "destination": 48,
          "add": -2,
          "move": 0
        },
        {
          "destination": 58,
          "add": -1,
          "move": 0
        },
        {
          "destination": 68,
          "add": 0,
          "move": 1
        },
        {
          "destination": 88,
          "add": 1,
          "move": 0
        }
      ],
      "99": [
        {
          "destination": 09,
          "add": 0,
          "move": 1
        },
        {
          "destination": 39,
          "add": -1,
          "move": 0
        },
        {
          "destination": 29,
          "add": -1,
          "move": 1
        },
        {
          "destination": 49,
          "add": -2,
          "move": 0
        },
        {
          "destination": 59,
          "add": -1,
          "move": 0
        },
        {
          "destination": 69,
          "add": 0,
          "move": 1
        },
        {
          "destination": 89,
          "add": 1,
          "move": 0
        }
      ]
    };

    const calcConf = {
      "+": [
        {
          stcksFlting: 0,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 + numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, PLUS)
        },
        {
          stcksFlting: 0,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === -numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, MINUS + numb3, MINUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === -numb3,
          fn: (numb1, numb2, numb3) => createResponseWithSuperscript(numb1, numb2, MINUS + numb3, MINUS)
        },
        {
          stcksFlting: 0,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponseWithSuperscript(numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: 0,
          movesRemaining: 2,
          cond: (numb1, numb2, numb3) => numb1 * numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, MULTIPLICATION)
        },
        {
          stcksFlting: -1,
          movesRemaining: 2,
          cond: (numb1, numb2, numb3) => numb1 / numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, DIVISION)
        },
        {
          stcksFlting: 1,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 + numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponseWithSuperscript(numb1, numb2, numb3, PLUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => -numb1 + numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(MINUS + numb1, numb2, numb3, PLUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 + numb2 === -numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, MINUS + numb3, PLUS)
        },
        {
          stcksFlting: 0,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === -numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, MINUS + numb3, MINUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => -numb1 - numb2 === -numb3,
          fn: (numb1, numb2, numb3) => createResponse(MINUS + numb1, numb2, MINUS + numb3, MINUS)
        },
        {
          stcksFlting: 0,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb3 === 0 && numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponseWithSuperscript(numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: -1,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: -1,
          movesRemaining: 2,
          cond: (numb1, numb2, numb3) => numb1 === numb2 - numb3,
          fn: (numb1, numb2, numb3) => createResponse1(numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: 0,
          movesRemaining: 2,
          cond: (numb1, numb2, numb3) => numb1 === numb2 + numb3,
          fn: (numb1, numb2, numb3) => createResponse1(numb1, numb2, numb3, PLUS)
        },
        {
          stcksFlting: 2,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 + numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, PLUS + numb3, PLUS)
        },
        {
          stcksFlting: 2,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => -numb1 + numb2 === -numb3,
          fn: (numb1, numb2, numb3) => createResponse(MINUS + numb1, numb2, MINUS + numb3, PLUS)
        }
      ],
      "-": [
        {
          stcksFlting: 0,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 * numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, MULTIPLICATION)
        },
        {
          stcksFlting: 0,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 === numb2 - numb3,
          fn: (numb1, numb2, numb3) => createResponse1(numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: 0,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 / numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, DIVISION)
        },
        {
          stcksFlting: 1,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 / numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponseWithSuperscript(numb1, numb2, numb3, DIVISION)
        },
        {
          stcksFlting: 0,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb3 < 0 && numb1 + numb2 === -numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, -numb3, PLUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 + numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, PLUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponseWithSuperscript(numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => -numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(MINUS + numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb3 >= 0 && numb1 - numb2 === -numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, MINUS + numb3, MINUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb3 >= 0 && numb1 === numb2 - numb3,
          fn: (numb1, numb2, numb3) => createResponseWithSuperscript1(numb1, numb2,  numb3, MINUS)
        },
        {
          stcksFlting: 2,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2,  PLUS + numb3, MINUS)
        },
        {
          stcksFlting: 2,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => -numb1 + numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(MINUS + numb1, numb2,  numb3, PLUS)
        },
        {
          stcksFlting: 2,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => -numb1 - numb2 === -numb3,
          fn: (numb1, numb2, numb3) => createResponse(MINUS + numb1, numb2,  MINUS + numb3, MINUS)
        },
        {
          stcksFlting: 2,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 + numb2 === -numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, MINUS + numb3, PLUS)
        },
        {
          stcksFlting: 2,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 + numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponseWithSuperscript(numb1, numb2, numb3, PLUS)
        }
      ],
      "x": [
        {
          stcksFlting: 0,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 * numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, MULTIPLICATION)
        },
        {
          stcksFlting: 0,
          movesRemaining: 2,
          cond: (numb1, numb2, numb3) => numb1 + numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, PLUS)
        },
        {
          stcksFlting: 0,
          movesRemaining: 2,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === -numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, MINUS + numb3, MINUS)
        },
        {
          stcksFlting: 0,
          movesRemaining: 2,
          cond: (numb1, numb2, numb3) => -numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(MINUS + numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: -1,
          movesRemaining: 2,
          cond: (numb1, numb2, numb3) => -numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: 0,
          movesRemaining: 2,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponseWithSuperscript(numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 / numb2 === numb3,
          fn: (numb1, numb2, numb3) => [createResponse(MINUS + numb1, MINUS + numb2, numb3, DIVISION), createResponse(numb1, MINUS + numb2, MINUS + numb3, DIVISION), createResponse(MINUS + numb1, numb2, MINUS + numb3, DIVISION)]
        },
        {
          stcksFlting: -1,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 / numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, DIVISION)
        },
        {
          stcksFlting: 1,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 * numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponseWithSuperscript(numb1, numb2, numb3, MULTIPLICATION)
        },
        {
          stcksFlting: 1,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 / numb2 === numb3,
          fn: (numb1, numb2, numb3) => [createResponse(MINUS + numb1, MINUS + numb2, numb3, DIVISION), createResponse(numb1, MINUS + numb2, MINUS + numb3, DIVISION), createResponse(MINUS + numb1, numb2, MINUS + numb3, DIVISION)]
        },
        {
          stcksFlting: 2,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 * numb2 === numb3,
          fn: (numb1, numb2, numb3) => [createResponse(numb1, numb2, PLUS + numb3, MULTIPLICATION), createResponse(MINUS + numb1, numb2, MINUS + numb3, MULTIPLICATION), createResponse(MINUS + numb1, MINUS + numb2, numb3, MULTIPLICATION), createResponse(numb1, MINUS + numb2, MINUS + numb3, MULTIPLICATION)]
        }
      ],
      "/": [
        {
          stcksFlting: 0,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 / numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, DIVISION)
        },
        {
          stcksFlting: 0,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: 1,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 * numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, MULTIPLICATION)
        },
        {
          stcksFlting: 0,
          movesRemaining: 1,
          cond: (numb1, numb2, numb3) => numb1 - numb2 === numb3,
          fn: (numb1, numb2, numb3) => createResponse(numb1, numb2, numb3, MINUS)
        },
        {
          stcksFlting: 2,
          movesRemaining: 0,
          cond: (numb1, numb2, numb3) => numb1 / numb2 === numb3,
          fn: (numb1, numb2, numb3) => [createResponse(numb1, numb2, PLUS + numb3, DIVISION), createResponse(MINUS + numb1, numb2, MINUS + numb3, DIVISION), createResponse(MINUS + numb1, MINUS + numb2, numb3, DIVISION), createResponse(numb1, MINUS + numb2, MINUS + numb3, DIVISION)]
        },
      ]
    };

    window.onload = function () {
      addIdentityAll(conf);
      conf = addToConfiguration(conf, 10);
      conf = addToConfiguration(conf, 20);
      conf = addToConfiguration(conf, 30);
      conf = addToConfiguration(conf, 40);
      conf = addToConfiguration(conf, 50);
      conf = addToConfiguration(conf, 60);
      conf = addToConfiguration(conf, 70);
      conf = addToConfiguration(conf, 80);
      conf = addToConfiguration(conf, 90);
      addIdentityAll(conf);
      addToConfigurationFlipDigits(conf);
      addToConfigurationOne(conf);
      addToConfigurationSeven(conf);
      addCompositMapping(conf);
	  //console.log(JSON.stringify(conf["76"]));
    };

    function solvePuzzle() {
      var results = [];
      const text = document.getElementById('textbox').value;
      const dropdown = document.getElementById('dropdown').value;
      const output = document.getElementById('output');
      output.innerHTML  = "Solving Puzzle";
      //console.log(JSON.stringify(conf["6"]));
      const arr = parseInput(text, "=");
      const operation = arr[0];
      const result = arr[3];
      const num1 = arr[1];
      const num2 = arr[2];
      console.log(num1 + " " + num2 + " " + result);
      const sticksToMove = parseInt(dropdown);
      results = solve(num1, num2, result, operation, sticksToMove, 0, 0);
      if (num1 < 0) {
        // const reslts = results.concat(solve(-num1, num2, result, operation, sticksToMove, 1, 1, {num1: true}));
        const reslts = results.concat(solve(-num1, num2, result, operation, sticksToMove, 1, 1));
        results = results.concat(reslts.filter(value => {
          return !(results.includes(value) || value.trim().startsWith("" + num1));
        }));
      }
      if (result < 0) {
        const reslts = results.concat(solve(num1, num2, -result, operation, sticksToMove, 1, 1));
        results = results.concat(reslts.filter(value => {
          return !(results.includes(value) || value.trim().endsWith("" + result));
        }));
      }
      if (num1 < 0 && result < 0) {
        const reslts = results.concat(solve(-num1, num2, -result, operation, sticksToMove, 2, 2));
        results = results.concat(reslts.filter(value => {
          return !(results.includes(value) || value.trim().startsWith("" + num1) || value.trim().endsWith("" + result));
        }));
      }
      output.innerHTML = results.length > 0 ? results.join("<br \>") : "No Solutions";
    }

    function solve(num1, num2, num3, operation, sticksToMove, sticksMoved, sticksFloating) {
      let results = [];
	  // var sticksMoved = 0, sticksFloating = 0;
      //console.log(JSON.stringify(conf["76"]));
      let conf1 = conf[Math.abs(num1)];
      let conf2 = conf[Math.abs(num2)];
      let conf3 = conf[Math.abs(num3)];

	  // console.log(num1 + " " + JSON.stringify(conf1));
	  // console.log(num2 + " " + JSON.stringify(conf2));
	  // console.log(num3  + " " + JSON.stringify(conf3));
// 	  console.log(JSON.stringify(conf["65"]));
		for (let i = 0; i < conf1.length; i++) {
			let sticksMoved1 = sticksMoved + conf1[i].move;
			let sticksFloating1 = sticksFloating + -1 * conf1[i].add;
			if (conf1[i].add < 0) {
				sticksMoved1 += -1 * conf1[i].add;
			}
          console.log(conf1[i].move + " " + conf1[i].add);
          console.log(sticksFloating1 + " " + sticksMoved1 + " " + sticksToMove);
          if (Math.abs(sticksFloating1) <= sticksToMove && sticksMoved1 <= sticksToMove) {
			// console.log("This is loop iteration #" + i);
					
			for (let j = 0; j < conf2.length; j++) { //
				var sticksMoved2 = sticksMoved1 + conf2[j].move;
				var sticksFloating2 = -1 * conf2[j].add + sticksFloating1;

				if (conf2[j].add < 0) {
					sticksMoved2 += -1 * conf2[j].add;
				}
              console.log(sticksFloating + " " + sticksMoved + " " + sticksToMove);
              if (sticksMoved2 <= sticksToMove && Math.abs(sticksFloating2) <= sticksToMove) {
				// console.log(sticksFloating + " " + sticksMoved);
				for (let k = 0; k < conf3.length; k++) {
					console.log(sticksFloating + " " + sticksMoved + " " + sticksToMove + " " + conf2[j].add);
					// console.log(conf3);
					var sticksMoved3 = sticksMoved2 + conf3[k].move;
					var sticksFloating3 = sticksFloating2 + -1 * conf3[k].add;
					if (conf3[k].add < 0) {
						sticksMoved3 += -1 * conf3[k].add;
					}
					if (sticksMoved3 <= sticksToMove && Math.abs(sticksFloating3) <= sticksToMove) {
						// console.log(sticksFloating + " " + sticksMoved + " " + sticksToMove);
						// console.log(conf1[i].destination + " " + conf2[j].destination + " " + conf3[k].destination);
						//resultStr = resultStr ? resultStr : verifyAndCreateResponse(conf1[i].destination, conf2[j].destination, conf3[k].destination, operation, sticksFloating3);
                      // console.log(conf1[i]);
						let reslt = verifyAndCreateResponse(getValueWithSign(conf1[i].destination, num1), getValueWithSign(conf2[j].destination, num2), getValueWithSign(conf3[k].destination, num3), operation, sticksFloating3, sticksToMove - sticksMoved3);
                      // console.log(reslt);
                      reslt = reslt.filter((value, indx, self) => self.indexOf(value) === indx);
                      // console.log(reslt);
                      reslt = reslt.filter((value, indx, self) => results.indexOf(value) < 0);
                      if (reslt.length > 0) {
                            results = results.concat(reslt);
                            // results = results.concat(reslt.filter(it => !results.includes(it)));
                        }
						// console.log(results);
					}
				}
			}
			}
		}
		}
		return results;
    }
	
	function parseInput(str, delim) {
		// 1 + 5 = 8
		const i = str.indexOf(delim);
        const num3 = parseInt(str.substring(i+1).trim());
		const s = str.substring(0, i).trim();
        let arr = breakInput(s, num3, PLUS);
        if (arr) return arr;
        arr = breakInput(s, num3, MINUS);
        if (arr) return arr;
        arr = breakInput(s, num3, MULTIPLICATION);
        if (arr) return arr;
        arr = breakInput(s, num3, DIVISION);
        if (arr) return arr;

		return arr;
	}

    function breakInput(str, num3, sign) {
      const arr = [];
      const j = str.indexOf(sign);
      if (j > 0) {
        arr[0] = sign;
        arr[1] = parseInt(str.substring(0, j).trim());
        arr[2] = parseInt(str.substring(j+1).trim());
        arr[3] = num3;
        return arr;
      }
      return null;
    }

    function addIdentity(arr, num) {
		const ar = [{
			"destination": num,
			"add": 0,
			"move": 0}];
		return arr ? ar.concat(arr) : ar;
	}

	function addIdentityAll(conf) {
		const ob = {
			"destination": 0,
			"add": 0,
			"move": 0
		};
        Object.keys(conf).forEach(key => {
            const obj = JSON.parse(JSON.stringify(ob));
            obj.destination = parseInt(key);
            conf[key].push(obj);
        });
      }

	function verifyAndCreateResponse(numb1, numb2, numb3, op, stcksFlting, movesRemaining) {
		// console.log(numb1 + " "	 + numb2 + " " + numb3 + "  " + stcksFlting + " " + movesRemaining);
        return performOperation(op, numb1, numb2, numb3, stcksFlting, movesRemaining);
	}

    function addToConfigurationFlipDigits(conf) {
      const ob = {
        "destination": 1,
        "add": 0,
        "move": 2
      };
      Object.keys(conf).forEach(key => {
        if ((key.startsWith(("1")) || key.endsWith(("1"))) && key.length > 1) {
          const key1 = key[1] + key[0];
          if (key !== key1) {
            const obj = JSON.parse(JSON.stringify(ob));
            obj.destination = parseInt(key1);
            conf[key].push(obj);
          }
        }
      });
    }

    function addToConfigurationOne(conf) {
      const ob = {
        "destination": 1,
        "add": -2,
        "move": 0
      };
      const ob2 = {
        "destination": 1,
        "add": 2,
        "move": 0
      };
      const ob3 = {
        "destination": 7,
        "add": 1,
        "move": 0
      };
      Object.keys(conf).forEach(key => {
        if ((key.startsWith(("1")) || key.endsWith(("1"))) && key.length > 1) {
          const key1 = key[1] + key[0];
		  const k0 = parseInt(key[0]);
		  const k1 = parseInt(key[1]);
            const obj = JSON.parse(JSON.stringify(ob));
            obj.destination = key.startsWith("1") ?  k1 : k0;
			addItemToConf(conf[key], obj);
            const obj2 = JSON.parse(JSON.stringify(ob2));
            obj2.destination = key.startsWith("1") ? 40 + k1 : k0*10 + 4;
			addItemToConf(conf[key], obj2);
            const obj3 = JSON.parse(JSON.stringify(ob3));
            obj3.destination = key.startsWith("1") ? 70 + k1 : k0*10 + 7;
			addItemToConf(conf[key], obj3);
          }
      });
    }

    function getValueWithSign(destination, num) {
      return num < 0 ? -destination : destination;
    }

    function addToConfigurationSeven(conf) {
      const ob = {
        "destination": 1,
        "add": -1,
        "move": 0
      };
      const ob2 = {
        "destination": 1,
        "add": 1,
        "move": 1
      };
      Object.keys(conf).forEach(key => {
        if ((key.startsWith(("7")) || key.endsWith(("7"))) && key.length > 1) {
          const key1 = key[1] + key[0];
          const k0 = parseInt(key[0]);
          const k1 = parseInt(key[1]);
          const obj = JSON.parse(JSON.stringify(ob));
          obj.destination = key.startsWith("7") ? 10 + parseInt(k1) : parseInt(k0)*10 + 1;
          addItemToConf(conf[key], obj);
          const obj2 = JSON.parse(JSON.stringify(ob2));
          obj2.destination = key.startsWith("7") ? 40 + parseInt(k1) : parseInt(k0)*10 + 4;
          addItemToConf(conf[key], obj2);
        }
      });
    }

	function addItemToConf(arr, obj) {
		const confItem = arr.find(it => it.destination === obj.destination);

		if (!confItem) arr.push(obj);
	}

    function addToConfiguration(conf, increment, debug) {
		Object.keys(conf).forEach(key => {
			// console.log(`${key}: ${conf[key]}`);
			//console.log(key);
			const key1 = increment + parseInt(key);
			// if (!conf.hasOwnProperty(key1)) {
			// 	conf[key1] = [];
			// }
          // console.log(conf[key1]);
          if (key < 10 && conf.hasOwnProperty(key1)) {
				//const arr = Array.from(conf[key]);
				const arr = JSON.parse(JSON.stringify(conf[key]));
              // if (key === 6) console.log(arr);
				for (let i = 0; i < conf[key].length; i++) {
					const confItem = conf[key][i];
                    // console.log(num);
                    // console.log(arr[i]);
                    const dest = parseInt(confItem.destination);
					arr[i].destination = dest < 10 ? increment + dest : 10*increment + dest;
					if (debug) {
                      console.log(key + " " + key1 + " " + dest + " " + arr[i].destination);
                    }
				}
				//const arr1 = JSON.parse(JSON.stringify(arr));

					// arr.push({
					// 	destination: parseInt(key),
					// 	add: -2,
					// 	move: 0
					// });
//				for (let i = 0; i < arr.length; i++) {
//					arr1.push({
//						destination: arr[i].destination - 10,
//						add: -2,
//						move: 0
//					});					
//				}
				conf[key1] = conf[key1].concat(arr);
			}
		});
		return conf;
	}
	
	function createResponse(numb1, numb2, numb3, op) {
		return numb1 + " " + op + " " + numb2 + " = " + numb3;
	}

	function createResponse1(numb1, numb2, numb3, op) {
		return numb1 + " = " + numb2 + " " + op + " " + numb3;
	}

	function createResponseWithSuperscript (numb1, numb2, numb3, op) {
		return [numb1 + SUPERSCRIPT1 + " " + op + " " + numb2 + " = " + numb3,
		      numb1 + " " + op + " " + numb2 + SUPERSCRIPT1 + " = " + numb3,
		      numb1 + " " + op + " " + numb2 + " = " + numb3 + SUPERSCRIPT1];
	}

	function createResponseWithTwoSuperscripts (numb1, numb2, numb3, op) {
		return [numb1 + SUPERSCRIPT1 + " " + op + SUPERSCRIPT1 + " " + numb2 + " = " + numb3,
		      numb1 + " " + op + " " + numb2 + SUPERSCRIPT1 + " = " + numb3 + SUPERSCRIPT1,
		      numb1 + SUPERSCRIPT1 + " " + op + " " + numb2 + " = " + numb3 + SUPERSCRIPT1];
	}

	function createResponseWithSuperscript1(numb1, numb2, numb3, op) {
		return [numb1 + SUPERSCRIPT1 + " = " + numb2 + op + " " + numb3,
		      numb1 + " = " + numb2 + SUPERSCRIPT1 + op + " " + numb3,
		      numb1 + " = " + numb2 + op + " " + numb3 + SUPERSCRIPT1];
	}

    function addCompositMapping(conf) {
      Object.keys(conf).forEach(key => {
        const k = parseInt(key);
        if (k < 10) {
          addCompositMappingAddOne(conf, key, conf[key[0]]);
        }
        if (k > 10) {
          const k1 = parseInt(key[0]);
          const k2 = parseInt(key[1]);
          if (k2 === 1) {
            addCompositMappingOne(conf, key, conf[key[0]]);
          } if (k1 === 1) {
            addCompositMappingOne(conf, key, conf[key[1]]);
          }

            for (let i = 0; i < conf[key[0]].length; i++) {
            for (let j = 0; j < conf[key[1]].length; j++) {
              if (key === "32") {
                // console.log(key[0] + " " + key[1] + " " + firstConf.destination + " " + conf[key[1]][j].destination);
                // console.log(conf[key[0]]);
                // console.log(conf[key[1]]);
              }
              const firstConf = conf[key[0]][i];
              const secondConf = conf[key[1]][j];
              let move = firstConf.move + secondConf.move;
              const destination = parseInt("" + firstConf.destination + secondConf.destination);
              // const destination = parseInt(firstConf.destination + secondConf.destination);

              const mv =  matchMoves(firstConf.add, secondConf.add);

              const confItem = conf[key].find(it => it.destination === destination);

              if (!confItem) {
                conf[key].push({
                  destination: destination,
                  add: firstConf.add + secondConf.add,
                  move: move + mv.move
                  // 1: firstConf.destination,
                  // 2: secondConf.destination
                });
              }
            }
          }
        }
      });
      // return conf;
    }

    // This handles numbers that start with or ends with 1 e.g 51/15 and converts to single digits e.g 6
    function addCompositMappingOne(conf, key, confItem) {
      for (let i = 0; i < confItem.length; i++) {
        const destination = parseInt("" + confItem[i].destination);
        if (confItem[i].add === 1) {
          addToConfItems(conf[key], destination, {add: -1, move: confItem[i].move + 1});
        } if (confItem[i].add === 2) {
          addToConfItems(conf[key], destination, {add: 0, move: confItem[i].move + 2});
        }
      }
    }

    // This handles single digits numbers and pads with 1 e.g 5 to double digits e.g 51/15
    function addCompositMappingAddOne(conf, key, confItem) {
      addToConfItems(conf[key], 10 * parseInt(key) + 1, {move: 0, add: 2});
      addToConfItems(conf[key], 10 + parseInt(key), {move: 0, add: 2});
    }

    function performOperation(oper, numb1, numb2, numb3, stcksFlting, movesRemaining) {
      let results = [];
      calcConf[oper].forEach(item => {
            if (item.stcksFlting === stcksFlting && item.movesRemaining === movesRemaining
              && item.cond.apply(null, [numb1, numb2, numb3])) {
              const result = item.fn.apply(null, [numb1, numb2, numb3]);
              // console.log(item.cond.apply(null, [numb1, numb2, numb3]));
              // console.log(result);
              if (Array.isArray(result)) {
                results = results.concat(result);
              } else {
                results.push(result);
              }
            }
        });
      return results;
    }

    function addToConfItems(confItems, destination, obj) {
      const confItem = confItems.find(it => it.destination === destination);
      obj.destination = destination;
      if (!confItem) confItems.push(obj);
    }


    function matchMoves(num1, num2) {
      const arr1 = fillArray(num1);
      const arr2 = fillArray(num2);
      let obj = {add: 0, move: 0};
      for (let i = 0; i < arr1.length && i < arr2.length; i++) {
          if (arr1[i] + arr2[i] === 0) {
            obj.move++;
            arr1[i] = arr2[i] = 0;
          } else {
            obj.add += arr1[i] + arr2[i];
            arr1[i] = arr2[i] = 0;
          }
      }
      for (let i = 0; i < arr1.length; i++) {
        obj.add += arr1[i];
      }
      for (let i = 0; i < arr2.length; i++) {
        obj.add += arr2[i];
      }
      return obj;
    }

    function fillArray(num) {
      const arr = [];
      for (let i = 0; i < Math.abs(num); i++) {
        arr.push(num > 0 ? 1 : -1);
      }
      return arr;
    }


    function print(low, high) {
        let obj = {};
        let ob = {
            "destination": 1,
            "add": 0,
            "move": 1
        }
        let x = 0;
        for (let i = low; i < high; i++) {
            obj[i] = [];
          const ob1 = JSON.parse(JSON.stringify(ob));
          const ii = x++;
          ob1.destination = 20 + ii;
          obj[i].push(ob1);
          const ob2 = JSON.parse(JSON.stringify(ob));
          ob2.destination = 50 + ii;
          ob2.move = 2;
          obj[i].push(ob2);
        }
        console.log(JSON.stringify(obj, null, 2));
        // console.log(JSON.stringify(conf, null, 2));
        return obj;
    }

    function copyText() {
      // const text = document.getElementById("myText").value;
      // const text = document.getElementById("myText").value;
      const text = results;
      navigator.clipboard.writeText(text)
              .then(() => {
                alert("Copied to clipboard!");
              })
              .catch(err => {
                alert("Failed to copy: " + err);
              });
    }

  </script>
</body>
</html>
